  <!DOCTYPE html>
<html lang="fr">
<head> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/MotionPathPlugin.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Josy's</title>
    <link rel="stylesheet" href="styles_Josy_8.css">
 <!--   <link href="css/theme.css" rel="stylesheet" type="text/css"> -->
</head>
<body>
    <header>
        <h1>JOSY Admin</h1>
    </header>
    <main>
        
<!-- CODE HTML -->

        <div id="page-container">
            <!-- Page noire par-dessus le contenu principal -->
            <div class="overlay" id="overlay">
                <img src="images/Josy.png" alt="Image d'introduction" class="intro-image">
                <div class="vertical-noir"></div>
                <div class="vertical-line"></div>
            </div>
            <div class="common-section">
                <div class="brick">
                    <!--<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">    
<img src= '../Image/Josy - St barth 5.webp' class="photodrone" alt="Image"> -->
                </div>
                <div id="typewriter-container"></div>
                <!-- Modal Container -->
                <div id="modal-container">
                    <div class="modal-background">
                        <div class="modal">
                            <h2>Le Josy Jeu</h2>
                            <p><span id="textContainer"></span></p>
                            <label for="motInput">Entrez un mot : JOSY</label>
                            <input id="motInput" type="text" autocorrect="off" autocomplete="off" autocapitalize="none" spellcheck="false" oninput="convertToLowercase(this)"/><br>
                            <button onclick="compterMot()">Valider</button><br>
                            <p id="resultat"></p>
                            <button2 onclick="Button_open_game()" id="button-open-game">Autre Josy jeu...</button2><br>
                            <svg class="modal-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none">
                                <rect x="0" y="0" fill="none" width="500" height="250" rx="3" ry="3"></rect>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="instagram-section"><a href="https://www.instagram.com/josy.family?igsh=bW94ZmZybWx3Ym4y&utm_source=qr" target="_blank"> <img src="https://static.wixstatic.com/media/091b9b_a9215b4d1c0a470aa70b99140a91aa22~mv2.png" alt="Instagram"> </a>
                </div>
                <div class="navbar">
                    <div class="navbar-left">
                        <!-- Votre code HTML existant -->
                        <body2>
                            <!-- Vertical Slider -->
                            <div class="slider-container2">
                                <img src="images/Josy.png" class="image2" alt="Image">
                                <div class="slider2" id="randomElements">
</div>
                        </body2>
                    </div>
                </div>
                <!-- Bouton pour le menu -->
                <div class="menu-toggle" id="menuToggle">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <div class="carree" id="carree"></div>
                <!-- Menu déroulant horizontal -->
                <div class="nav-buttons" id="navButtons">
                    <button onclick="scrollToPosition_8()">Nous contacter</button>
                    <button onclick="ToBoutique()">Boutique</button>
                    <button onclick="scrollToPosition_7()">La team Josy</button>
                    <button onclick="alert('Bouton 4 cliqué')">Nos produits</button>
                    <button onclick="alert('Bouton 5 cliqué')">Nous découvrir</button>
                </div>
                <!-- Barre de défilement personnalisée -->
                <div class="scroll-bar-container">
                    <div class="scroll-bar" id="scrollBar"></div>
                    <!-- Points avec info-bulles -->
                    <div class="scroll-point" onclick="scrollToPosition_1()" id="point100" style="top: calc(2% - 5px);" data-tooltip="Point à 100%">
                        <div class="tooltip">Josy une histoire d'amis</div>
                    </div>
                    <div class="scroll-point" onclick="scrollToPosition_2()" id="point200" style="top: calc(23% - 5px);" data-tooltip="Point à 200%">
                        <div class="tooltip">Josy touche !</div>
                    </div>
                    <div class="scroll-point" onclick="scrollToPosition_3()" id="point300" style="top: calc(48% - 5px);" data-tooltip="Point à 300%">
                        <div class="tooltip">Descriptif T-shirt</div>
                    </div>
                    <div class="scroll-point" onclick="scrollToPosition_4()" id="point400" style="top: calc(53% - 5px);" data-tooltip="Point à 400%">
                        <div class="tooltip">Qualité du T-shirt</div>
                    </div>
                    <div class="scroll-point" onclick="scrollToPosition_5()" id="point500" style="top: calc(60% - 5px);" data-tooltip="Point à 500%">
                        <div class="tooltip">Les variantes...</div>
                    </div>
                    <div class="scroll-point" id="point600" style="top: calc(66% - 5px);" data-tooltip="Point à 600%">
                        <div class="tooltip">Galerie</div>
                    </div>
                    <div class="scroll-point" onclick="scrollToPosition_7()" id="point700" style="top: calc(70% - 5px);" data-tooltip="Point à 700%">
                        <div class="tooltip">La team Josy</div>
                    </div>
                    <div class="scroll-point" onclick="scrollToPosition_8()" id="point800" style="top: calc(76% - 5px);" data-tooltip="Point à 800%">
                        <div class="tooltip">Contact</div>
                    </div>
                    <div class="scroll-point" id="point900" style="top: calc(200% - 5px);" data-tooltip="Point à 900%">
                        <div class="tooltip">900 pixels de défilement</div>
                    </div>
                    <div class="scroll-point" id="point1000" style="top: calc(200% - 5px);" data-tooltip="Point à 1000%">
                        <div class="tooltip">1000 pixels de défilement</div>
                    </div>
                </div>
                <div id="scroll-position"></div>

                
                <script>


    // Fonction pour convertir automatiquement le texte en minuscules
    function convertToLowercase(input) {
        input.value = input.value.toLowerCase();
    }

                   // Ajoutez un gestionnaire d'événements pour réinitialiser l'opacité lorsque la page est au sommet du scroll
                   window.addEventListener('scroll', function() {
                    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;


                    var button_one = document.querySelector('.buttons .button');

                gsap.registerPlugin(ScrollTrigger);

            if (scrollTop <= 31) {
        button_one.style.opacity = '1';
    } else {
        button_one.style.opacity = '0';
    }

              
                            


                var text1 = document.getElementById('text1');
                var text2 = document.getElementById('text2');
                var txt_josy_histoire_amis = document.getElementById('txt_josy_histoire_amis');
                var text3 = document.getElementById('text3');
                var photodrone_text = document.getElementById('photodrone_text');
                var descriptif_tshirt = document.getElementById('descriptif_tshirt');
                
                var image = document.querySelector('.image');
                
                
                var gallery = document.querySelector('.gallery');
             /*   var T_shirt_Josy_1 = document.querySelector('.T_shirt_Josy_1');
                var T_shirt_Josy_1 = document.querySelector('.T_shirt_Josy_2');
                var T_shirt_Josy_1 = document.querySelector('.Pull_Josydole');
                var T_shirt_Josy_1 = document.querySelector('.Casquette_1');
                var T_shirt_Josy_1 = document.querySelector('.T_shirt_Josyimaginaire');*/
                            
                
 
      
            });
            
            
      

    //
   
    let sreen_largeur = window.innerWidth;

    window.addEventListener('scroll', function() {
        let scrollPosition = window.scrollY;
        document.getElementById('scroll-position').textContent = `Pos: ${scrollPosition}px - Larg: ${sreen_largeur}`;
    });
    

    window.addEventListener('resize', () => {
        // Recalcule la largeur et met à jour la position x
    sreen_largeur = window.innerWidth;
      //  document.getElementById('scroll-position').textContent = `Scroll position: ${sreen_largeur}px`;

    let scrollPosition = window.scrollY;

        document.getElementById('scroll-position').textContent = `Pos: ${scrollPosition}px - Larg: ${sreen_largeur}`;

    // Recharger la page
   // location.reload();

    /*window.scrollTo({
        top: scrollPosition,
       // behavior: 'smooth' // défilement fluide
    });*/

//fin refresh 
    });

    </script>
            </div>
            <!-- Téléphone -->
            <div class="tel-section">
                <div class="brick">
                    <img src='https://static.wixstatic.com/media/091b9b_b55af7b76c814e70b77789efd85630b8~mv2.webp' class="photodrone" alt="Image">
                    <div class="buttons">
                        <!--   <button onclick="startTyping()" id="one" class="button"></button> -->
                        <button onclick="startTyping()" id="one" class="button">Participer aux jeux</button>
                    </div>
                    <!-- Modal Container 
<div id="modal-container">
    <div class="modal-background">
      <div class="modal">
        <h2>Le Josy Jeu</h2>
        <p><span id="textContainer"></span></p>
       <label for="motInput">Entrez un mot : JOSY</label>
       <input type="text" id="motInput">
       <br>
       <button onclick="compterMot()">Valider</button>
       <br>
       <p id="resultat"></p>
       <button2 onclick="Button_open_game()" id="button-open-game">Autre Josy jeu...</button2>
       <br>
        <svg class="modal-svg" xmlns="http://www.w3.org/2000/svg" width="50%" height="100%" preserveAspectRatio="none">
          <rect x="0" y="0" fill="none" width="500" height="250" rx="3" ry="3"></rect>
        </svg>
      </div>
    </div>
  </div> -->
                    <script>
    window.addEventListener('scroll', function() {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            var photodrone = document.querySelector('.photodrone');

            if (scrollTop > 100) { // Ajustez la valeur selon vos besoins
            photodrone.style.opacity = "0";
        } else {
            photodrone.style.opacity = "1";
        }
                        
            
            gsap.registerPlugin(ScrollTrigger);


            if (scrollTop >= 6000 && scrollTop <= 6390) {
                photodrone_text.style.opacity = "1";
                
            } else {
                photodrone_text.style.opacity = "0";
            }

        

        });
        </script>
                </div>
            </div>
            <!-- Ordinateur -->
            <div class="pc-section">
                <!-- Section 1 -->                 
                <div class="brick">
                    <div class="buttons">
                        <!--   <button onclick="startTyping()" id="one" class="button"></button> -->
                        <button onclick="startTyping()" id="one" class="button">Participer aux jeux</button>
                    </div>
                    <img src='https://static.wixstatic.com/media/091b9b_b55af7b76c814e70b77789efd85630b8~mv2.webp' class="photodrone" alt="Image">
                    <div class="circle" data-tooltip="Pull en coton"></div>
                    <svg id="svg_histoire" xmlns="http://www.w3.org/2000/svg" viewBox="10 0 600 800" style="width: 100%; height: auto;">
                        <!-- <path class="line01 line" d="M 10 200  600 200"></path>
                 <path class="line02 line" d="M 10 400  600 400"></path>
                 <path class="line03 line" d="M 10 600  600 600"></path>
                 <path class="line04 line" d="M 10 800  600 800"></path>
                 <text class="text01" x="30" y="190">2018</text>
                 <text class="text02" x="30" y="390">2019</text>
                 <text class="text03" x="30" y="590">2020</text>
                 
                 
                  d="M -5,0
                    Q 10 30 350 70 
                    T 350 330
                    Q -220 340 340 430
                    T 200 550"-->
                        <!--Commande modifiée
d="M10,10 H500 A10,10 0 0 1 510,30 H150 A20,10 0 0 0 150,50 H510 A10,10 0 0 1 520,70 H10"
Changements apportés
Augmenter la largeur après les virages :
H500 devient H510 et H100 devient H150, ce qui augmente les segments horizontaux.
Adapter les courbes :
Les coordonnées des courbes après chaque segment horizontal ont été ajustées légèrement pour s'adapter à la nouvelle position.
Explication des commandes dans d
M10,10 : Déplacement initial du stylet à la position (10,10).
H500 : Ligne horizontale jusqu'à x=500.
A10,10 0 0 1 500,30 : Arc courbé de rayon 10 avec un virage à y=30.
H100 : Ligne horizontale jusqu'à x=100.
A20,10 0 0 0 100,50 : Arc courbé de rayon 20.
H500 : Ligne horizontale jusqu'à x=500.
A10,10 0 0 1 500,70 : Arc final courbé à y=70.
-->
                        <path id="theLine" class="theLine" d="M20,20 H500 A20,20 0 0 1 500, 
                 160 H150 A20,20 0 0 0 150,
                 310 H510 A20,20 0 0 1 510,
                 460 H280" fill="none" stroke="var(--Color_2)" stroke-width="4px" stroke-linejoin="round"/>
                        <circle class="ball ball01" r="8"></circle>
                        <circle class="ball_ ball02" r="5"></circle>
                        <circle class="ball_ ball03" r="5"></circle>
                        <circle class="ball_ ball04" r="5"></circle>
                    </svg>
                    <div class="box_histoire_1">
                        Il était une fois, dans un monde où la mode était sérieuse et les vêtements manquaient de fantaisie, trois amis décidèrent de changer la donne. Ils étaient animés par une idée simple mais puissante : faire rire les gens tout en les habillant avec style.
</div>
                    <div class="box_histoire_2">
                        Ainsi naquit Josy, une marque de vêtements drôle et décalée qui ne se prenait pas trop au sérieux. Les créateurs, trois esprits farfelus et amoureux des jeux de mots, s'inspirèrent des moments joyeux de la vie quotidienne pour donner vie à une collection unique.
</div>
                    <div class="box_histoire_3">
                        Chaque pièce de la collection Josy raconte une histoire, un jeu de mot ingénieux qui fusionne l'humour et la mode. De Josydole à Josyrlande, chaque création est un clin d'œil à la créativité sans limites de l'esprit humain.
</div>
                    <div class="box_histoire_4">
                        Les vêtements Josy sont conçus pour ceux qui refusent de se conformer, pour ceux qui aiment la mode, mais qui aiment encore plus rire. C'est une invitation à célébrer la vie avec légèreté, à ne jamais oublier que même la mode peut être une aventure amusante.
</div>
                    <div class="box_histoire_5">
                        Porter Josy, c'est plus qu'une déclaration de style, c'est un état d'esprit. Rejoignez-nous dans cette aventure où le rire est la tenue parfaite, où chaque vêtement est une punchline, et où la mode devient une fête.
</div>
                    <div id="phrase-container"><span>J</span>
                        <span>o</span>
                        <span>s</span>
                        <span>y</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span>L</span>
                        <span>a</span>
                        <span>&nbsp;</span><span>m</span>
                        <span>o</span>
                        <span>d</span>
                        <span>e</span>
                        <span>&nbsp;</span><span>q</span>
                        <span>u</span>
                        <span>i</span>
                        <span>&nbsp;</span><span>f</span>
                        <span>a</span>
                        <span>i</span>
                        <span>t</span>
                        <span>&nbsp;</span><span>s</span>
                        <span>o</span>
                        <span>u</span>
                        <span>r</span>
                        <span>i</span>
                        <span>r</span>
                        <span>e</span>
                        <span>,</span>
                        <span>&nbsp;</span><span>p</span>
                        <span>a</span>
                        <span>r</span>
                        <span>c</span>
                        <span>e</span>
                        <span>&nbsp;</span><span>q</span>
                        <span>u</span>
                        <span>e</span>
                        <span>&nbsp;</span><span>l</span>
                        <span>a</span>
                        <span>&nbsp;</span><span>v</span>
                        <span>i</span>
                        <span>e</span>
                        <span>&nbsp;</span><span>e</span>
                        <span>s</span>
                        <span>t</span>
                        <span>&nbsp;</span><span>t</span>
                        <span>r</span>
                        <span>o</span>
                        <span>p</span>
                        <span>&nbsp;</span><span>c</span>
                        <span>o</span>
                        <span>u</span>
                        <span>r</span>
                        <span>t</span>
                        <span>e</span>
                        <span>!</span>
                    </div>
                    <div class="carree2" id="carree2"></div>
                    <div class="text" id="text1">Des jeux pour tous</div>
                    <div class="text" id="txt_josy_histoire_amis">JOSY... une histoire d'amis</div>
                    <div class="text" id="JOSY_touch">La JOSY touch !</div>
                    <div class="text" id="text3">Dernier texte</div>
                    <div class="text" id="descriptif_tshirt">
                        <p>descriptif tshirt</p>
                        <p>...</p>
                        <p>2</p>
                        <p>3</p>
                        <p>4</p>
                    </div>
                    <div class="text" id="photodrone_text">
                        <p>bilan t-shirt........ ............... ............... ..................... .............. .............. ....... ................ .......... .............</p>
                        <p>ils sont trop bien</p>
                        <p>2</p>
                        <p>3</p>
                        <p>4</p>
                    </div>
                    <div class="text" id="vous_josy">Vous aussi, faites partie de la team JOSY</div>
                    <div class="text" id="vous_josy_2">JOSY ce n'est pas qu'une histoire de vêtements. C'est aussi une communauté, un partage, des rencontres.</div>
                    <img src="https://static.wixstatic.com/media/091b9b_91d58ba7da1d42ddac8a0515a1ba2d90~mv2.png" class="T_shirt_Josy_2" alt="Image">
                    <img src="https://static.wixstatic.com/media/091b9b_fec32b19ccf54130a2d3f1fef45d1e97~mv2.png" class="Pull_Josydole" alt="Image">
                    <img src="https://static.wixstatic.com/media/091b9b_3bdbfd96343041d48d7562b22539de94~mv2.png" class="T_shirt_Josyimaginaire" alt="Image">
                    <img src="https://static.wixstatic.com/media/091b9b_57b281e336cd450eb873f0aa2a6823c0~mv2.png" class="Casquette_1" alt="Image">
                    <!--  <img src="https://static.wixstatic.com/media/091b9b_e68f5e63f468436e8b418ed0e3388a70~mv2.png" class="T_shirt_Josy_1" alt="Image">
             <img src="https://static.wixstatic.com/media/091b9b_e68f5e63f468436e8b418ed0e3388a70~mv2.png" class="T_shirt_Josy_1_" alt="Image"> -->
                    <img src="https://static.wixstatic.com/media/091b9b_1c79e407629c4822a118d240d0b92e4d~mv2.png" class="T_shirt_Josy_1" alt="Image">
                    <img src="https://static.wixstatic.com/media/091b9b_1c79e407629c4822a118d240d0b92e4d~mv2.png" class="T_shirt_Josy_1_" alt="Image">
                    <!-- Scripts -->
                    <button onclick="open_carte()" id="four" class="button_carte">Accéder à notre carte</button>
                    <div class="carree3" id="carree3"></div>                     
                    <div class="gallery2-container">
                        <button class="gallery2-nav left" onclick="scrollGallery(-1)">&#10094;</button>                         

                        <!-- Flèche gauche -->
                        <div class="gallery2-wrapper">
                            <div class="gallery2">
                                <img src="../Image/Vous_1.JPG" alt="Image 1">
                                <img src="../Image/Vous_2.PNG" alt="Image 2">
                                <img src="../Image/Vous_3.jpg" alt="Image 3">
                                <img src="../Image/Vous_4.jpg" alt="Image 4">
                                <img src="../Image/Vous_5.JPG" alt="Image 5">
                                <img src="https://via.placeholder.com/150" alt="Image 6">
                                <img src="https://via.placeholder.com/150" alt="Image 7">
                                <img src="https://via.placeholder.com/150" alt="Image 8">
                            </div>
                        </div>
                        <button class="gallery2-nav right" onclick="scrollGallery(1)">&#10095;</button>                         

                        <!-- Flèche droite -->
                    </div>
                    <div class="contact_form">
                        <h2>Formulaire de Contact</h2>
                        <form id="contactForm" method="POST" onsubmit="sendForm(event)">
                            <div class="form-group">
                                <label for="nom_prenom">Nom et Prénom :</label>
                                <input type="text" id="nom_prenom" name="nom_prenom" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Adresse e-mail :</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="objet">Objet :</label>
                                <input type="text" id="objet" name="objet" required>
                            </div>
                            <div class="form-group">
                                <label for="sujet">Sujet :</label>
                                <textarea id="sujet" name="sujet" required></textarea>
                            </div>
                            <div class="form-group">
                                <button type="submit">Envoyer</button>
                            </div>
                            <div id="error" class="error"></div>
                        </form>
                    </div>
                    <div id="popupOverlay" class="popup-overlay">
                        <div class="popup">
                            <button class="close-btn" onclick="closePopup()">x</button>
                            <p>Message envoyé avec succès!</p>
                        </div>
                    </div>
                    <!-- <img src="https://static.wixstatic.com/media/091b9b_2e7cbd6063454ce8ac19de96ca85d5ff~mv2.jpg" class="photodrone" alt="Image">  -->
                    <!-- Modal Container CARTE -->
                    <div id="modal-container_carte" class="modal-container_carte">
                        <div class="modal-background_carte">
                            <div class="modal_carte">
                                <button onclick="close_carte()" id="close-modal" class="close-button">&times;</button>
                                <h2>La JOSY carte</h2>
                                <img src="https://static.wixstatic.com/media/091b9b_f554d4edb0064081afbe17a631981ae2~mv2.png" alt="Modal Image" class="modal-image">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="transitionOverlay" class="transition-overlay"></div>
                <div class="rack">
                    <img src="https://static.wixstatic.com/media/091b9b_1c79e407629c4822a118d240d0b92e4d~mv2.png" id="T_shirt_1" class="tshirt" style="--order: 1;" alt="T-shirt 1">
                    <img src="https://static.wixstatic.com/media/091b9b_940e3ba7a1aa470cac8af8649291431f~mv2.png" id="T_shirt_2" class="tshirt" style="--order: 2;" alt="T-shirt 2">
                    <img src="https://static.wixstatic.com/media/091b9b_a50f0491950940a590444cc4e5e33a6e~mv2.png" id="T_shirt_3" class="tshirt" style="--order: 3;" alt="T-shirt 3">
                    <img src="https://static.wixstatic.com/media/091b9b_f2529b92afc9436c9407d0f22ef36b52~mv2.png" id="T_shirt_4" class="tshirt" style="--order: 4;" alt="T-shirt 4">
                    <img src="https://static.wixstatic.com/media/091b9b_72ded7420c164655a7e68727a8a1d055~mv2.png" id="T_shirt_5" class="tshirt" style="--order: 5;" alt="T-shirt 5">
                    <img src="https://static.wixstatic.com/media/091b9b_a2b3596bab8e49fb80dccf81c59008e9~mv2.png" id="T_shirt_6" class="tshirt" style="--order: 6;" alt="T-shirt 6">
                    <img src="https://static.wixstatic.com/media/091b9b_67ab2016b9cd4fa9bd14e58f61c4d0e7~mv2.png" id="T_shirt_7" class="tshirt" style="--order: 7;" alt="T-shirt 7">
                    <img src="https://static.wixstatic.com/media/091b9b_9fe2dd65cbd544b6823c6a712533a904~mv2.png" id="T_shirt_8" class="tshirt" style="--order: 8;" alt="T-shirt 8">
                    <img src="https://static.wixstatic.com/media/091b9b_573fe71a33604d6e8ebd37d900d06895~mv2.png" id="T_shirt_9" class="tshirt" style="--order: 9;" alt="T-shirt 9">
                    <img src="https://static.wixstatic.com/media/091b9b_863866073eae48df9ef7a50b43ae29b7~mv2.png" id="T_shirt_10" class="tshirt" style="--order: 10;" alt="T-shirt 10">
                </div>
                <script>


            /*T shirt cintre Debut*/


    /*T Shrit cintre fin */


gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

// Initialiser les balles à leur position initiale sur le chemin
gsap.set(".ball", { opacity:  1});

gsap.set(".ball02", {x:75, y:20});
gsap.set(".ball03", {x:530, y:154});
gsap.set(".ball04", {x:120, y:160});

// Fonction pour imiter le dessin du chemin
const path = document.querySelector("#theLine");
const pathLength = path.getTotalLength();

 // Appliquer strokeDasharray et strokeDashoffset pour le chemin
gsap.set(path, {
    strokeDasharray: pathLength,
    strokeDashoffset: pathLength
        });


const pulses = gsap.timeline({
    defaults: {
        scale: 2,
        autoAlpha: 1,
        transformOrigin: 'center', 
        ease: "elastic(2.5, 1)"
    }
})
.to(".ball02, .text01", {}, 0.04) 
.to(".ball03, .text02", {}, 0.62)
.to(".ball04, .text03", {}, 0.70);

const main = gsap.timeline({
            scrollTrigger: {
                trigger: "#svg_histoire",
                scrub: true,
                start: "top 75%", // Adapter pour mieux synchroniser
                end: "bottom 100%"
            }
        })
.to(".ball01", {autoAlpha: 1, duration: 0.05})
.to(".theLine", { strokeDashoffset: 0, duration: 4 }, 0) // Simule le dessin de la ligne
.to(".ball01", {
    motionPath: {
        path: ".theLine",
        align: ".theLine",
        alignOrigin: [0.5, 0.5]
    }, 
    duration: 4
}, 0)
.add(pulses, 0);

gsap.fromTo("#svg_histoire", {
    opacity: 0
}, {
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "210px",
        end: "220px",
        scrub: 0,
        markers: false
    }
});

//fin chemin 

variables =  sreen_largeur * 0.30 + 0;//433;
variables_2 = sreen_largeur * 0.063 + 0;//90.7;
opacitys = 0;

//debut t shirt cintre


gsap.fromTo("#T_shirt_1", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables,//
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_2", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_3", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*2,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_4", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*3,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_5", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*4,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_6", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*5,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_7", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*6,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_8", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*7,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_9", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*8,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_10", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*9,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    scale: 1,  // Agrandit la largeur à sa taille originale
    x: 0,
    y: 0,
    opacity: opacitys,
    scrollTrigger: {
        trigger: document.body,
        start: "5000px",
        end: "5300px",
        scrub: 0,
        markers: false
    }
});


gsap.fromTo("#T_shirt_1", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
}, {
    x: variables + 0.01,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_2", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_3", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*2,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*2,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_4", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*3,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*3,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_5", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*4,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*4,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_6", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*5,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*5,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_7", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*6,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*6,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_8", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*7,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*7,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_9", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*8,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*8,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_10", {
    scale: 1,  // Réduit la largeur à zéro au début
    x: variables - variables_2*9,// sreen_largeur * 0.40 + 60,
    y: 0,
   // transformOrigin: "bottom left", // Origine de transformation en bas à gauche
   opacity: opacitys
}, {
    opacity: opacitys,
    x: variables - variables_2*9,// sreen_largeur * 0.40 + 60,
    scrollTrigger: {
        trigger: document.body,
        start: "0px",
        end: "5000px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo("#T_shirt_1", {
    opacity: 0
}, {
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "4997px",
        end: "4998px",
        scrub: 0,
        markers: false
    }
});
//fin t shirt cintre


//hisotire

gsap.fromTo(".box_histoire_1", {
    scaleX: 0,  // Réduit la largeur à zéro au début
    scaleY: 0,  // Réduit la hauteur à zéro au début
    transformOrigin: "bottom left", // Origine de transformation en bas à gauche
    opacity: 0
}, {
    scaleX: 1,  // Agrandit la largeur à sa taille originale
    scaleY: 1,  // Agrandit la hauteur à sa taille originale
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "256px",
        end: "266px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo(".box_histoire_2", {
    scaleX: 0,  // Réduit la largeur à zéro au début
    scaleY: 0,  // Réduit la hauteur à zéro au début
    transformOrigin: "bottom right", // Origine de transformation en bas à gauche
    opacity: 0
}, {
    scaleX: 1,  // Agrandit la largeur à sa taille originale
    scaleY: 1,  // Agrandit la hauteur à sa taille originale
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "468px",
        end: "494px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo(".box_histoire_3", {
    scaleX: 0,  // Réduit la largeur à zéro au début
    scaleY: 0,  // Réduit la hauteur à zéro au début
    transformOrigin: "top left", // Origine de transformation en bas à gauche
    opacity: 0
}, {
    scaleX: 1,  // Agrandit la largeur à sa taille originale
    scaleY: 1,  // Agrandit la hauteur à sa taille originale
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "712px",
        end: "730px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo(".box_histoire_4", {
    scaleX: 0,  // Réduit la largeur à zéro au début
    scaleY: 0,  // Réduit la hauteur à zéro au début
    transformOrigin: "bottom right", // Origine de transformation en bas à gauche
    opacity: 0
}, {
    scaleX: 1,  // Agrandit la largeur à sa taille originale
    scaleY: 1,  // Agrandit la hauteur à sa taille originale
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "646px",
        end: "656px",
        scrub: 0,
        markers: false
    }
});

gsap.fromTo(".box_histoire_5", {
    scaleX: 0,  // Réduit la largeur à zéro au début
    scaleY: 0,  // Réduit la hauteur à zéro au début
    transformOrigin: "bottom right", // Origine de transformation en bas à gauche
    opacity: 0
}, {
    scaleX: 1,  // Agrandit la largeur à sa taille originale
    scaleY: 1,  // Agrandit la hauteur à sa taille originale
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "810px",
        end: "820px",
        scrub: 0,
        markers: false
    }
});

/*
gsap.fromTo(".box_histoire_6", {
    scaleX: 0,  // Réduit la largeur à zéro au début
    scaleY: 0,  // Réduit la hauteur à zéro au début
    opacity: 0
}, {
    scaleX: 1,  // Agrandit la largeur à sa taille originale
    scaleY: 1,  // Agrandit la hauteur à sa taille originale
    opacity: 1,
    scrollTrigger: {
        trigger: document.body,
        start: "1300px",
        end: "1320px",
        scrub: 0,
        markers: false
    }
});*/

  

//fin histoire

                // Ajoutez un gestionnaire d'événements pour réinitialiser l'opacité lorsque la page est au sommet du scroll
     window.addEventListener('scroll', function() {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            var text1 = document.getElementById('text1');
            var text2 = document.getElementById('text2');
            var txt_josy_histoire_amis = document.getElementById('txt_josy_histoire_amis');
            var text3 = document.getElementById('text3');
            var descriptif_tshirt = document.getElementById('descriptif_tshirt');
            var photodrone_text = document.getElementById('photodrone_text');
           
            var circle = document.querySelector('.circle');
            
            var tshirt = document.querySelector('.tshirt');
            var carree3 = document.querySelector('.carree3');
            
			var T_shirt_Josy_1 = document.querySelector('.T_shirt_Josy_1');
            var T_shirt_Josy_1_ = document.querySelector('.T_shirt_Josy_1_');
			var T_shirt_Josy_2 = document.querySelector('.T_shirt_Josy_2');
			/*var T_shirt_Josy_1 = document.querySelector('.Pull_Josydole');
			var T_shirt_Josy_1 = document.querySelector('.Casquette_1');*/
			var T_shirt_Josyimaginaire = document.querySelector('.T_shirt_Josyimaginaire');

            var photodrone = document.querySelector('.photodrone');


						
            
            gsap.registerPlugin(ScrollTrigger);



            document.addEventListener("DOMContentLoaded", () => {



                
    const tshirts = document.querySelectorAll(".tshirt");

    // Fonction pour activer/désactiver les événements selon la position du scroll
    const handleScroll = () => {
        const scrollTop = window.scrollY; // Obtenir la position actuelle du scroll

        if (scrollTop >= 5300 && scrollTop <= 5600) {
            tshirts.forEach((tshirt, index) => {
                tshirt.addEventListener("mouseover", () => {
                    tshirts.forEach((other, i) => {
                        if (i > index) {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "0.5";
                        } else if (i === index) {
                            other.style.transform = "translateX(7%)";
                            other.style.opacity = "1";
                        } else {
                            other.style.transform = "translateX(-20%)";
                            other.style.opacity = "0.5";
                        }
                    });
                });

                tshirt.addEventListener("mouseleave", () => {
                    tshirts.forEach((other) => {
                        other.style.transform = "translateX(0px)";
                        other.style.opacity = "1";
                    });
                });

            });

        } else  if (scrollTop >= 4900 && scrollTop < 5300) {

/*    function disableMouseOver() {
    tshirts.forEach((tshirt) => {
        tshirt.removeEventListener("mouseover", handleMouseOver);
        tshirt.removeEventListener("mouseleave", handleMouseLeave);
    });
}*/

          /*  tshirts.forEach((tshirt, index) => {
                tshirt.addEventListener("mouseover", () => {
                    tshirts.forEach((other, i) => {
                        if (i > index) {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "1";
                        } else if (i === index) {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "1";
                        } else {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "1";
                        }
                    });
                });

               tshirt.addEventListener("mouseleave", () => {
                    tshirts.forEach((other) => {
                        other.style.transform = `translateX(0px)`;
                        other.style.opacity = "1";
                    });
                });

            });*/
            

      
    }else{

       // tshirt.style.pointer = "0";

      /*  tshirts.forEach((tshirt, index) => {
                tshirt.addEventListener("mouseover", () => {
                    tshirts.forEach((other, i) => {
                        if (i > index) {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "0";
                        } else if (i === index) {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "0";
                        } else {
                            other.style.transform = `translateX(0px)`;
                            other.style.opacity = "0";
                        }
                    });
                });

                tshirt.addEventListener("mouseleave", () => {
                    tshirts.forEach((other) => {
                        other.style.transform = `translateX(0px)`;
                        other.style.opacity = "0";
                    });
                });

            });

    function disableMouseOver() {
    tshirts.forEach((tshirt) => {
        tshirt.removeEventListener("mouseover", handleMouseOver);
        tshirt.removeEventListener("mouseleave", handleMouseLeave);
    });
}*/

    }
    };

    // Écouter l'événement de scroll
    window.addEventListener("scroll", handleScroll);
});

            



            //Début
            if (scrollTop <= 30) {
                text1.style.opacity = "1";
            } else {
                text1.style.opacity = "0";
            }
        

            if (scrollTop >= 4999 && scrollTop <= 5600) {
              /*  T_shirt_1.style.zIndex = "3010";
                T_shirt_2.style.zIndex = "3009";
                T_shirt_3.style.zIndex = "3008";
                T_shirt_4.style.zIndex = "3007";
                T_shirt_5.style.zIndex = "3006";
                T_shirt_6.style.zIndex = "3005";
                T_shirt_7.style.zIndex = "3004";
                T_shirt_8.style.zIndex = "3003";
                T_shirt_9.style.zIndex = "3002";
                T_shirt_10.style.zIndex = "3001";*/
                T_shirt_1.style.opacity = "1"; // Permet les interactions*/
                T_shirt_2.style.opacity = "1";
                T_shirt_3.style.opacity = "1";
                T_shirt_4.style.opacity = "1";
                T_shirt_5.style.opacity = "1";
                T_shirt_6.style.opacity = "1";
                T_shirt_7.style.opacity = "1";
                T_shirt_8.style.opacity = "1";
                T_shirt_9.style.opacity = "1";
                T_shirt_10.style.opacity = "1";
            } else {
               // tshirt.style.pointerEvents = "none"; // Désactive les interactions
               T_shirt_1.style.zIndex = "10";
               T_shirt_2.style.zIndex = "9";
               T_shirt_3.style.zIndex = "8";
               T_shirt_4.style.zIndex = "7";
               T_shirt_5.style.zIndex = "6";
               T_shirt_6.style.zIndex = "5";
               T_shirt_7.style.zIndex = "4";
               T_shirt_8.style.zIndex = "3";
               T_shirt_9.style.zIndex = "2";
               T_shirt_10.style.zIndex = "1";

              T_shirt_1.style.opacity = "0";
               T_shirt_2.style.opacity = "0";
               T_shirt_3.style.opacity = "0";
               T_shirt_4.style.opacity = "0";
               T_shirt_5.style.opacity = "0";
               T_shirt_6.style.opacity = "0";
               T_shirt_7.style.opacity = "0";
               T_shirt_8.style.opacity = "0";
               T_shirt_9.style.opacity = "0";
               T_shirt_10.style.opacity = "0";
            }

            if (scrollTop >= 0 && scrollTop <= 5000) {

T_shirt_1.style.transformx = variables ;
T_shirt_2.style.transformx = variables - variables_2;
T_shirt_3.style.transformx = variables - variables_2*2;

function disableMouseOver() {
tshirts.forEach((tshirt) => {
tshirt.removeEventListener("mouseover", handleMouseOver);
tshirt.removeEventListener("mouseleave", handleMouseLeave);
});
}
}

            

            
            //galerie histoire josy

            if (scrollTop >= 180 && scrollTop <= 1600) {
              txt_josy_histoire_amis.style.opacity = "1";
            } else {
              txt_josy_histoire_amis.style.opacity = "0";
            }
            

            //autres
          
             
             if (scrollTop >= 1100 && scrollTop <= 2000) {
                text3.style.opacity = "0";
            } else {
                text3.style.opacity = "0";
            }
            
            if (scrollTop >= 4200 && scrollTop <= 4500) {
                descriptif_tshirt.style.opacity = "1";
            } else {
                descriptif_tshirt.style.opacity = "0";
            }

            if (scrollTop >= 4450 && scrollTop <= 4999) {
                T_shirt_Josy_1_.style.opacity = "1";
            } else {
                T_shirt_Josy_1_.style.opacity = "0";
            }

            if (scrollTop >= 6480 && scrollTop <= 6800) {
                vous_josy.style.opacity = "1";
            } else {
                vous_josy.style.opacity = "0";
            }


            if (scrollTop >= 6490 && scrollTop <= 6800) {
                vous_josy_2.style.opacity = "1";
            } else {
                vous_josy_2.style.opacity = "0";
            }

            if (scrollTop >= 6500 && scrollTop <= 6800) {
                four.style.opacity = "1";
            } else {
                four.style.opacity = "0";
            }


            if (scrollTop >= 4880 && scrollTop <= 4950) {
                circle.style.opacity = "0.8";
                
            } else {
                circle.style.opacity = "0";
            }

            if (scrollTop >= 6000 && scrollTop <= 6390) {
                photodrone_text.style.opacity = "1";
                
            } else {
                photodrone_text.style.opacity = "0";
            }

           /* if (scrollTop >= 4900 && scrollTop <= 6300) {
                T_shirt_Josy_2.style.opacity = "1";
                T_shirt_Josyimaginaire.style.opacity = "1";
            } else {
                T_shirt_Josy_2.style.opacity = "0";
                T_shirt_Josyimaginaire.style.opacity = "0";
            }*/

            

        });
        
        
	
//t shirt josy


    gsap.fromTo(".T_shirt_Josy_1", {
    x: 0,
    y: 0,
    opacity: 1 // Taille initiale à 100%
}, {
    x: 0,
    y: 0, // Ajout de l'animation sur l'axe Y
    opacity: 0, // Grossissement de 10% (taille à 110%)
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4449px",  // Démarre après la première animation
        end: "4450px",    // Garde la position pendant 200px
        scrub: 0,  
        markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
    }
});




//FIN LEVÉE : 



// Fonction pour recalculer la position du T-shirt
function updateTshirtPosition() {
    var sreen_largeur = window.innerWidth;
    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

if (scrollTop >= 4450 && scrollTop <= 4500) {

    gsap.fromTo(".T_shirt_Josy_1_", {
        x: sreen_largeur * 0.29,
    }, {
        x: sreen_largeur * 0.29,
        scrollTrigger: {
            trigger: document.body, 
            start: "4450px",  
            end: "4500px", 
            scrub: 0,  
            markers: false
        }
    });

}


if (scrollTop >= 4450 && scrollTop <= 4900) {

    gsap.fromTo(".T_shirt_Josy_1_", {
        x: sreen_largeur * 0.29,
        y: -22,
        scale: 0.7 // Taille initiale
    }, {
        x: 0,
        y: 0, 
        scale: 0.84, 
        scrollTrigger: {
            trigger: document.body, 
            start: "4500px",  
            end: "4900px", 
            scrub: 0,  
            markers: false
        }
    });

}

if (scrollTop >= 4900 && scrollTop <= 5300) {
/*    
gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: sreen_largeur * 0.10 + 66,
    opacity: 0
}, {
    x: sreen_largeur * 0.10 + 66,
    opacity: 1,
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4900px",
        end: "4940px",
        scrub: 0, 
        markers: false
    }
});

gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: sreen_largeur * 0.10 + 66,
    y: -42,
    scale: 0.7,
    transform: "translateX(0) translateY(0) rotate(0deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: 0, // Pas de changement de position, seulement la rotation
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(-35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4950px",  // Démarre après la première animation
        end: "5300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});

gsap.fromTo(".T_shirt_Josy_2", {
    x: - sreen_largeur * 0.10 - 66,
    opacity: 0
}, {
    x: - sreen_largeur * 0.10 - 66,
    opacity: 1,
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4900px",
        end: "4940px",
        scrub: 0, 
        markers: false
    }
});

gsap.fromTo(".T_shirt_Josy_2", {
    x: - sreen_largeur * 0.10 - 66,
    y: -42,
    scale: 0.7,
    transform: "translateX(0) translateY(0) rotate(0deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: 0, // Pas de changement de position, seulement la rotation
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4950px",  // Démarre après la première animation
        end: "5300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});*/

}

}
/*
gsap.fromTo(".T_shirt_Josy_1_", {
    x: 0,
    y: 0,
    scale: 1.2 // Taille initiale à 100%
}, {
    x: 0,
    y: -1070, // Ajout de l'animation sur l'axe Y
    scale: 1.2, // Grossissement de 10% (taille à 110%)
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "5700px",  // Démarre après la première animation
        end: "6300px",    // Garde la position pendant 200px
        scrub: 0,  
        markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
    }
});
*/
// Réinitialiser la position au scroll
window.addEventListener('scroll', updateTshirtPosition);


window.addEventListener('resize', () => {
        // Recalcule la largeur et met à jour la position x
    sreen_largeur = window.innerWidth;

    ScrollTrigger.refresh();
      //  document.getElementById('scroll-position').textContent = `Scroll position: ${sreen_largeur}px`;

      updateTshirtPosition();  // Réactualiser la position du t-shirt
    /*  
gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: sreen_largeur * 0.10 + 66,
    opacity: 0
}, {
    x: sreen_largeur * 0.10 + 66,
    opacity: 1,
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4900px",
        end: "4940px",
        scrub: 0, 
        markers: false
    }
});

gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: sreen_largeur * 0.10 + 66,
    y: -42,
    scale: 0.7,
    transform: "translateX(0) translateY(0) rotate(0deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: 0, // Pas de changement de position, seulement la rotation
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(-35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4950px",  // Démarre après la première animation
        end: "5300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});

//Josy 2
gsap.fromTo(".T_shirt_Josy_2", {
    x: - sreen_largeur * 0.10 - 66,
    opacity: 0
}, {
    x: - sreen_largeur * 0.10 - 66,
    opacity: 1,
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4900px",
        end: "4940px",
        scrub: 0, 
        markers: false
    }
});

gsap.fromTo(".T_shirt_Josy_2", {
    x: - sreen_largeur * 0.10 - 66,
    y: -42,
    scale: 0.7,
    transform: "translateX(0) translateY(0) rotate(0deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: 0, // Pas de changement de position, seulement la rotation
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4950px",  // Démarre après la première animation
        end: "5300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});*/

ScrollTrigger.refresh();

//fin refresh 
    });

/*
gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: 0,
    y: 0,
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(-35deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: -1100, 
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(-35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "5700px",  // Démarre après la première animation
        end: "6300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});

gsap.fromTo(".T_shirt_Josy_2", {
    x: 0,
    y: 0,
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(35deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: -1100, 
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "5700px",  // Démarre après la première animation
        end: "6300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});



//JOSYmaginaire
gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: sreen_largeur * 0.10 + 66,
    opacity: 0
}, {
    x: sreen_largeur * 0.10 + 66,
    opacity: 1,
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4900px",
        end: "4940px",
        scrub: 0, 
        markers: false
    }
});

gsap.fromTo(".T_shirt_Josyimaginaire", {
    x: sreen_largeur * 0.10 + 66,
    y: -42,
    scale: 0.7,
    transform: "translateX(0) translateY(0) rotate(0deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: 0, // Pas de changement de position, seulement la rotation
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(-35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4950px",  // Démarre après la première animation
        end: "5300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});


//Josy 2
gsap.fromTo(".T_shirt_Josy_2", {
    x: - sreen_largeur * 0.10 - 66,
    opacity: 0
}, {
    x: - sreen_largeur * 0.10 - 66,
    opacity: 1,
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4900px",
        end: "4940px",
        scrub: 0, 
        markers: false
    }
});

gsap.fromTo(".T_shirt_Josy_2", {
    x: - sreen_largeur * 0.10 - 66,
    y: -42,
    scale: 0.7,
    transform: "translateX(0) translateY(0) rotate(0deg)" // Ajout de la rotation initiale
}, {
    x: 0,
    y: 0, // Pas de changement de position, seulement la rotation
    scale: 1,
    transform: "translateX(0) translateY(0) rotate(35deg)", // Ajout de la rotation finale
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "4950px",  // Démarre après la première animation
        end: "5300px",    // Fin de l'animation à 5200px
        scrub: 0,  
        markers: false // Pour désactiver les repères de démarrage et de fin
    }
});

*/
gsap.fromTo(".T_shirt_Josy_1", {
        opacity : 0
    }, {
        opacity : 1,
        scrollTrigger: {
            trigger: document.body, // Déclencher par rapport au body
            start: "2100px top", // Déclenche à 2680px du haut de la page
            end: "3300px top",   // Fin à 4350px du haut de la page
            scrub: 0,  
            markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
        }
    });

gsap.fromTo(".T_shirt_Josy_1", {
    x: () => -sreen_largeur,
    y: 500,
    scale: 0.7 // Taille initiale à 100%
}, {
    x: 0, // Déplacement horizontal sur 80% de la largeur de la fenêtre
    y: 0, // Ajout de l'animation sur l'axe Y
    scrollTrigger: {
        trigger: document.body, // Déclencher par rapport au body
        start: "2000px top", // Déclenche à 2680px du haut de la page
        end: "4400px top",   // Fin à 4350px du haut de la page
        scrub: 0,  
        markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
    }
});

gsap.fromTo(".T_shirt_Josy_1", {
        opacity : 1
    }, {
        opacity : 0,
        scrollTrigger: {
            trigger: document.body, // Déclencher par rapport au body
            start: "4450px top", // Déclenche à 2680px du haut de la page
            end: "4451px top",   // Fin à 4350px du haut de la page
            scrub: 0,  
            markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
        }
    });
    
    
gsap.fromTo(".photodrone", {
        y : 0,
        opacity : 1,
    }, {
        y : -120,
        opacity : 0,
        scrollTrigger: {
            trigger: document.body, // Déclencher par rapport au body
            start: "0px top", // Déclenche à 2680px du haut de la page
            end: "150px top",   // Fin à 4350px du haut de la page
            scrub: 0,  
            markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
        }
    });

gsap.fromTo(".photodrone_text", {
        y : 1000
    }, {
        y : 0,
        scrollTrigger: {
            trigger: document.body, // Déclencher par rapport au body
            start: "5800px top", // Déclenche à 2680px du haut de la page
            end: "6200px top",   // Fin à 4350px du haut de la page
            scrub: 0,  
            markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
        }
    });

;

gsap.fromTo(".gallery2-container", {
        opacity : 1
    }, {
        opacity : 0,
        scrollTrigger: {
            trigger: document.body, // Déclencher par rapport au body
            start: "6795 top", // Déclenche à 2680px du haut de la page
            end: "6820 top",   // Fin à 4350px du haut de la page
            scrub: 0,  
            markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
        }
    });


gsap.fromTo(".gallery2-container", {
        y : 1000
    }, {
        y : 0,
        scrollTrigger: {
            trigger: document.body, // Déclencher par rapport au body
            start: "6350px top", // Déclenche à 2680px du haut de la page
            end: "6500px top",   // Fin à 4350px du haut de la page
            scrub: 0,  
            markers: false          // Pour voir les repères de démarrage et de fin (pour le debug)
        }
    });
   


   /*     // Sélectionnez l'image
        const image = document.querySelector('.photodrone');
        const text = document.getElementById('photodrone_text');

// Paramètres pour une animation plus douce
const duration = 1.5; // Durée de l'animation (en secondes)
const easing = "power1.inOut"; // Effet de transition

// Animation pour déplacer l'image vers la droite au survol
image.addEventListener('mouseenter', () => {
    gsap.to(image, { xPercent: -80, duration: duration, ease: easing });
    gsap.to(text, { width: '25vw', duration: duration, ease: easing });
});

// Animation pour ramener l'image à sa position initiale à la sortie du survol
image.addEventListener('mouseleave', () => {
    gsap.to(image, { xPercent: -50, duration: duration, ease: easing });
    gsap.to(text, { width: '45vw', duration: duration, ease: easing });
});*/

 //GSAP TEST
 


 //FIN GSAP

//fin thsirt josy

		//Script galerie


    slideIndex = 3;
    showSlides(slideIndex);

    function plusSlides(n) {
        if (n == -1 && slideIndex == 3) {
        }else{
      showSlides(slideIndex += n);
        }
    }

    function showSlides(n) {
      let slides = document.getElementsByClassName("slide");
      if (n > slides.length) {
        slideIndex = 3;
      }
      if (n < 1) {
        slideIndex = slides.length;
      }
      let startIndex = slideIndex - 3 < 0 ? 0 : slideIndex - 3;
      let endIndex = slideIndex + 2 > slides.length ? slides.length : slideIndex + 2;
      for (let i = 0; i < slides.length; i++) {
        if (i >= startIndex && i < endIndex) {
          slides[i].style.display = "block";
        } else {
          slides[i].style.display = "none";
        }
      }
    }

    let scrollIndex2 = 0;

function scrollGallery(direction) {
    const gallery = document.querySelector('.gallery2');
    const imageWidth = gallery.querySelector('img').offsetWidth + 10; // Inclut l'espacement
    const visibleImages = 4; // Nombre d'images visibles
    const totalImages = gallery.children.length; // Nombre total d'images
    const maxIndex = Math.ceil(totalImages / visibleImages) - 1; // Indice maximum pour le défilement

    // Calculez le nouvel indice de défilement
    scrollIndex2 += direction;

    // Assurez-vous que l'indice de défilement reste dans les limites
    if (scrollIndex2 < 0) scrollIndex2 = 0;
    if (scrollIndex2 > maxIndex) scrollIndex2 = maxIndex;

    // Appliquez la transformation pour déplacer la galerie
    gallery.style.transform = `translateX(-${scrollIndex2 * visibleImages * imageWidth}px)`;
}
        
        //fin galerie


        // Écouter l'événement de défilement
window.addEventListener('scroll', function() {
            // Calculer la hauteur de la barre de progression

            let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            let scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrollPercentage = (scrollTop / scrollHeight) * 100;

            // Inverser le pourcentage pour que la barre se remplisse de haut en bas
            let reverseScrollPercentage = 100 - scrollPercentage;

            // Mettre à jour la hauteur de la barre de progression
            document.getElementById('scrollBar').style.height = reverseScrollPercentage + '%';

          /* if (scrollTop > 500){

                document.getElementById('scrollBar').style.height = 0.5 * reverseScrollPercentage + '%';

            }*/


            // Mettre à jour l'opacité des points
            updatePointsVisibility(scrollTop);
        });



 // Initialiser la barre de progression et la visibilité des points au chargement de la page
window.dispatchEvent(new Event('scroll'));

function updatePointsVisibility(scrollTop) {
    // Tableau des points avec leurs positions en pixels
    const points = [
        { id: 'point100', position: 200 },
        { id: 'point200', position: 2150 },
        { id: 'point300', position: 4200 },
        { id: 'point400', position: 4880 },
        { id: 'point500', position: 5300 },
        { id: 'point600', position: 6200 },
        { id: 'point700', position: 6500 },
        { id: 'point800', position: 7000 },
        { id: 'point900', position: 9999 },
        { id: 'point1000', position: 9999 }
    ];

            // Mettre à jour l'opacité de chaque point en fonction du pourcentage de défilement
            points.forEach(point => {
                const element = document.getElementById(point.id);
                if (scrollTop >= point.position) {
                    element.style.opacity = 1;
                } else {
                    element.style.opacity = 0;
                }
            });
        }

        // Initialiser la barre de progression au chargement de la page
        window.dispatchEvent(new Event('scroll'));

        // JavaScript pour basculer le menu
        document.getElementById('menuToggle').addEventListener('click', function() {
    if (document.body.classList.contains('show-menu')) {
        // Si le menu est visible, on enlève la classe show-menu et on ajoute hide-menu
        document.body.classList.remove('show-menu');
        document.body.classList.add('hide-menu');
    } else {
        // Si le menu est caché, on enlève hide-menu et on ajoute show-menu
        document.body.classList.remove('hide-menu');
        document.body.classList.add('show-menu');
    }
});


        // Sélectionne tous les boutons avec la classe 'button'
        var buttons = document.querySelectorAll('.button');

        // Ajoute un écouteur d'événements pour chaque bouton
        buttons.forEach(function(button) {
            button.addEventListener('click', function() {
                // Récupère l'ID du bouton cliqué
                var buttonId = this.id;
                
                // Supprime toutes les classes du modal et ajoute celle correspondante au bouton cliqué
                var modalContainer = document.getElementById('modal-container');
                modalContainer.className = ''; // Supprime toutes les classes
                modalContainer.classList.add(buttonId);

                // Ajoute la classe 'modal-active' au body
                document.body.classList.add('modal-active');
            });
        });

        // Ajoute un écouteur d'événements pour le modal pour le fermer au clic
        var modalContainer = document.getElementById('modal-container');
        modalContainer.addEventListener('click', function() {
            // Ajoute la classe 'out' pour l'animation de fermeture
            this.classList.add('out');

            // Retire la classe 'modal-active' du body
            document.body.classList.remove('modal-active');
        });

        // Empêche la fermeture du modal si l'on clique à l'intérieur
        var modal = document.querySelector('.modal');
        modal.addEventListener('click', function(event) {
            event.stopPropagation();
        });

        // Ajoute un écouteur d'événements pour le bouton de fermeture
        var closeButton = document.querySelector('.close-button');
        closeButton.addEventListener('click', function() {
            // Ferme le modal en ajoutant la classe 'out'
            modalContainer.classList.add('out');
            document.body.classList.remove('modal-active');
        });

  




// Fonction pour ouvrir le modal avec l'animation "four"
function open_carte() {
    var modalContainer = document.getElementById('modal-container_carte');
        // Retirer la classe "out" si elle est présente
        modalContainer.classList.remove('out');
    // Ajouter la classe "four" pour déclencher l'animation
    modalContainer.classList.add('four');
}

// Fonction pour fermer le modal
function close_carte() {
    var modalContainer = document.getElementById('modal-container_carte');
    // Ajouter la classe "out" pour déclencher l'animation de fermeture
    modalContainer.classList.add('out');

    // Attendre la fin de l'animation avant de cacher le modal
    setTimeout(function() {
        modalContainer.classList.remove('four', 'out');
       // modalContainer.style.transform = 'scale(0)';
    }, 500); // La durée de l'animation est de 500ms
}

// Ajouter des écouteurs d'événements aux boutons
document.getElementById('four').addEventListener('click', open_carte);
document.getElementById('close-modal').addEventListener('click', close_carte);  


function sendForm(event) {
            event.preventDefault(); // Empêcher la soumission du formulaire

            const form = document.getElementById('contactForm');
            const formData = new FormData(form);
            const errorDiv = document.getElementById('error');

            fetch('send_email.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    const popupOverlay = document.getElementById('popupOverlay');
                    if (popupOverlay) {
                        popupOverlay.style.display = 'flex';
                    }
                    form.reset(); // Effacer le formulaire
                    errorDiv.textContent = ''; // Effacer le message d'erreur précédent
                } else {
                    displayErrorMessage(data); // Afficher le message d'erreur détaillé
                }
            })
            .catch(error => {
                console.error('Erreur:', error);
                errorDiv.textContent = 'Erreur lors de l\'envoi du message: ' + error.message;
            });
        }

function displayErrorMessage(data) {
            const errorDiv = document.getElementById('error');
            if (errorDiv) {
                if (data.details) {
                    errorDiv.textContent = `Erreur : ${data.message}. Détails : ${data.details.message}`;
                } else {
                    errorDiv.textContent = `Erreur : ${data.message}`;
                }
            }
        }

function closePopup() {
            const popupOverlay = document.getElementById('popupOverlay');
            if (popupOverlay) {
                popupOverlay.style.display = 'none';
            }
        }


                        // Fonction pour défiler à 2150px
function scrollToPosition_1() {
            window.scrollTo({
                top: 180,
                behavior: 'smooth' // défilement fluide
            });
        }
                // Fonction pour défiler à 2150px
function scrollToPosition_2() {
            window.scrollTo({
                top: 2150,
                behavior: 'smooth' // défilement fluide
            });
        }

function scrollToPosition_3() {
            window.scrollTo({
                top: 4450,
                behavior: 'smooth' // défilement fluide
            });
        }

function scrollToPosition_4() {
            window.scrollTo({
                top: 4900,
                behavior: 'smooth' // défilement fluide
            });
        }

function scrollToPosition_5() {
            window.scrollTo({
                top: 5600,
                behavior: 'smooth' // défilement fluide
            });
        }

function scrollToPosition_7() {
            window.scrollTo({
                top: 6500,
                behavior: 'smooth' // défilement fluide
            });
        }

function scrollToPosition_8() {
            window.scrollTo({
                top: 7000,
                behavior: 'smooth' // défilement fluide
            });
        }


function ToBoutique() {
            window.location.href = 'https://josyte.wixstudio.io/josys/category/all-products';
    }

    function startTyping() {
    try {
        console.log("Lancement de la fonction startTyping.");

        // Texte à afficher progressivement
        var text = "Soyez dans le top 5 des JOSYmots et gagner un bon de réduction";

        // Sélection du conteneur où le texte sera affiché
        var textContainer = document.getElementById('textContainer');
        if (!textContainer) {
            throw new Error("Élément avec l'ID 'textContainer' introuvable.");
        }

        // Fonction pour afficher le texte progressivement
        function typeWriter(text, i) {
            if (i < text.length) {
                textContainer.innerHTML += text.charAt(i);
                i++;
                setTimeout(function () {
                    typeWriter(text, i);
                }, 60); // Délai entre chaque caractère (en millisecondes)
            } else {
                console.log("Texte affiché avec succès.");
            }
        }

        // Efface le contenu précédent du conteneur de texte
        textContainer.innerHTML = '';
        console.log("Contenu précédent effacé.");

        // Calcule la largeur totale du texte final
        textContainer.innerHTML = text; // Place temporairement tout le texte pour mesurer
        const textWidth = textContainer.offsetWidth;
        textContainer.innerHTML = ''; // Vide après la mesure

        // Centrer à 50 % de la largeur finale
        textContainer.style.left = `calc(50% - ${textWidth / 2}px)`;
        textContainer.style.transform = 'translateX(0)'; // Annule le translate si ajustement précis

        // Délai initial avant de commencer à écrire
        setTimeout(function () {
            typeWriter(text, 0);
        }, 1000);
    } catch (error) {
        console.error("Erreur dans startTyping :", error.message);
        throw error; // Facultatif : pour arrêter le script si nécessaire
    }
}





document.addEventListener('DOMContentLoaded', () => {

    console.log("chargement en cours .... !");

    // Sélectionner les éléments
    const overlay = document.getElementById('overlay');
    const introImage = document.querySelector('.intro-image'); // Correspond à votre image
    const verticalline = document.querySelector('.vertical-line');

    // Précharger l'image en arrière-plan
    const preloadImage = new Image();
    preloadImage.src = '../Image/Josy - St barth 5.webp'; // Source de votre image

    preloadImage.onload = () => {
        console.log("Image chargée en arrière-plan !");
    };
    preloadImage.onerror = () => {
        console.error("Erreur lors du chargement de l'image.");
    };

    // Lancer les animations immédiatement
    const tl = gsap.timeline();

    tl.to(verticalline, { 
        duration: 0.5, 
        height: '40vh', 
        opacity: 1, 
        ease: 'power2.inOut' 
    });

    // Animation pour montrer l'image
    tl.to(introImage, { 
        duration: 1.2, 
        left: '33%',
        ease: 'power2.inOut' 
    });

    // Pause pour que l'image soit visible
    tl.to({}, { duration: 1 });

    // Animation pour cacher l'image
    tl.to(introImage, { 
        duration: 1.2, 
        left: '-20%',
        ease: 'power2.inOut' 
    });

    tl.to({}, { duration: 0.05 });

    // Réduire la hauteur de la ligne verticale
    tl.to(verticalline, { 
        duration: 0.5, 
        height: '0vh', 
        opacity: 1, 
        ease: 'power2.inOut' 
    });

    // Diminuer progressivement l'opacité de l'overlay pour révéler le contenu
    tl.to(overlay, { 
        duration: 0.8, 
        opacity: 0, 
        onComplete: () => {
            // Masquer complètement l'overlay
            overlay.style.display = 'none';
            // Permettre le défilement
            document.body.style.overflow = 'auto';
        }
    });
});


let mots = [];
let mots_2 = [];


document.addEventListener("DOMContentLoaded", function() {
    let allData = [];

    // Fonction pour récupérer les données depuis le fichier JSON
    function fetchData() {
        return fetch('data.json')
            .then(response => response.json())
            .then(data => {
                allData = data;
            })
            .catch(error => console.error('Erreur lors de la récupération des données:', error));
    }

   
   
// Chargement des données depuis data.json
    // Fonction pour charger les données depuis data.json
// Fonction pour charger les données depuis motsJOSY.json
function chargerDonnees() {
    return fetch('motsJOSY.json')
        .then(response => response.json())
        .then(data => {
            console.log('Données chargées depuis motsJOSY.json:', data);
            mots = data;
            return mots; // Retourne les données pour les utiliser plus tard
        })
        .catch(error => {
            console.error('Erreur de chargement des données:', error);
            throw error; // Propage l'erreur pour la gérer en aval si nécessaire
        });
}

function chargerDonnees_2() {
    let mots_2 = [];

    return fetch('motsJOSY_A_VALIDER.json')
        .then(response => response.json())
        .then(data => {
            console.log('Données chargées depuis motsJOSY_A_AVLIDER.json:', data);
            mots_2 = data;
            return mots_2; // Retourne les données pour les utiliser plus tard
        })
        .catch(error => {
            console.error('Erreur de chargement des données motsJOSY_A_AVLIDER:', error);
            throw error; // Propage l'erreur pour la gérer en aval si nécessaire
        });
}



// Appel de chargerDonnees au chargement de la page
chargerDonnees()
    .then(data => {
        // Une fois les données chargées avec succès, vous pouvez continuer ici
        console.log('Chargement des données terminé avec succès.');

        // Définir les mots chargés dans une variable globale accessible
        mots = data;
    })
    .catch(error => {
        // Gérer l'erreur de chargement des données ici
        console.error('Erreur lors du chargement des données:', error);
    });

chargerDonnees_2()
.then(data => {
        // Une fois les données chargées avec succès, vous pouvez continuer ici
        console.log('Chargement des données terminé avec succès A VALIDER.');

        mots_2 = data;
    })
    .catch(error => {
        // Gérer l'erreur de chargement des données ici
        console.error('Erreur lors du chargement des données A VALIDER:', error);
    });

    // Fonction pour sélectionner aléatoirement des éléments
    function pickRandomElements(arr, count) {
        if (count > arr.length) {
            console.error('Le nombre demandé est supérieur au nombre d\'éléments dans le tableau.');
            return [];
        }
        let shuffled = arr.slice();
        shuffled.sort(() => 0.5 - Math.random());
        return shuffled.slice(0, count);
    }

    // Fonction pour actualiser les éléments toutes les 20 secondes
    function updateRandomElements() {
        const selectedData = pickRandomElements(allData, 10);
        const container = document.getElementById('randomElements');
        container.innerHTML = ''; // Effacer le contenu précédent

        selectedData.forEach(item => {
            const p = document.createElement('p');
            p.textContent = item;
            container.appendChild(p);
        });
    }

       // Initialiser les données et mettre à jour les éléments
       fetchData().then(() => {
        updateRandomElements();
        setInterval(updateRandomElements, 20000); // Actualiser toutes les 20 secondes
    });

});


    // Appeler la fonction initiale au chargement de la page
    updateRandomElements();

    // Actualiser les éléments toutes les 20 secondes
    setInterval(updateRandomElements, 20100); // 20 secondes en millisecondes (20 * 1000)



////JEUX JOSY MOTS----------------------------------



    // Appeler la fonction pour charger les données au chargement de la page
   // chargerDonnees();

    // Tableau des mots initialisé



    /// TEST MOT JOSY

function compterMot1() {

  //  document.getElementById('Valider').addEventListener('click', function() {
        const motTrouve = document.getElementById('motInput').value;
         document.getElementById("resultat").textContent = '11';

        if (motTrouve === '') {
            document.getElementById('message').innerText = 'Veuillez entrer un mot.';
            document.getElementById("resultat").textContent = 'Veuillez entrer un mot.';
            return;
        }

        document.getElementById("resultat").textContent = '22';

        // Envoyer la requête pour vérifier et mettre à jour le fichier JSON
        fetch('/update-json', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ mot: motTrouve })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById('message').innerText = 'Le mot a été ajouté ou mis à jour avec succès !';
                document.getElementById("resultat").textContent = 'Le mot a été ajouté ou mis à jour avec succès !';
            } else {
                document.getElementById('message').innerText = 'Erreur lors de la mise à jour du fichier.';
                document.getElementById("resultat").textContent ='Erreur lors de la mise à jour du fichier.';
            }
        })
        .catch(error => {
            console.error('Erreur:', error);
            document.getElementById('message').innerText = 'Erreur de connexion avec le serveur.';
            document.getElementById("resultat").textContent = 'Erreur de connexion avec le serveur.';
        });
   // });

}

    ///FIN TEST 
   

    // Fonction pour compter le mot saisi
    async function compterMot() {


        try {
        // Attendre le chargement des données JSON
        const mots = await chargerJSON();


     //   document.getElementById("textContainer").textContent = "3"
        const motSaisi = document.getElementById("motInput").value.trim(); //.value.toLowerCase().trim();


            // Supprimer les accents
    let motSansAccent = motSaisi.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
    // Supprimer les caractères spéciaux et remplacer par une chaîne vide
    let motNettoye = motSansAccent.replace(/[^a-zA-Z0-9\s]/g, "").trim();
  

        // Recherche du mot dans la liste
    //    document.getElementById("textContainer").textContent = "4"
        const motTrouve = mots.find(item => (item.mot) === (motNettoye));
     //   document.getElementById("textContainer").textContent = "5"

        if (motTrouve) {
            motTrouve.nombre++; // Incrémentation du compteur
            document.getElementById("resultat").textContent = `Vous êtes la ${motTrouve.nombre}ème personne à penser à  JOSY${motSaisi}.`;

            // Mettre à jour le fichier JSON avec la nouvelle valeur
            mettreAJourJSON(motNettoye, motTrouve.nombre);

        } else if (motSaisi == "") {

            document.getElementById("resultat").textContent = `Veuillez saisir un mot`;


        } else {
                    // Si le mot n'existe pas, ajouter avec "valide": "non" et nombre = 1
        const nouveauMot = {mot: motNettoye, nombre: 1, valide: "non" };
       // mots_2.push(nouveauMot); // Ajouter à la liste locale
        document.getElementById("resultat").textContent = `Le mot JOSY${motSaisi} a été ajouté à la liste à valider.`;

        // Mettre à jour le fichier JSON avec le nouveau mot
        ajouterNouveauMot(nouveauMot);
   
            //document.getElementById("resultat").textContent = `Le mot JOSY${motSaisi} n'est pas dans la liste.`;
        }

        // Effacer le champ de saisie après comptage
        document.getElementById("motInput").value = "";
       
     }catch (error) {
        console.error('Erreur lors de la gestion du mot saisi:', error);
        document.getElementById("resultat").textContent = "Une erreur est survenue. Veuillez réessayer.";
    }
    

}


// Fonction pour charger les données JSON existantes
function chargerJSON() {
    return fetch('motsJOSY.json')
    .then(response => response.json())
        .then(data => {
            console.log('Données chargées depuis motsJOSY.json:', data);
            mots = data;
            return mots; // Retourne les données pour les utiliser plus tard
        })
        .catch(error => {
            console.error('Erreur de chargement des données:', error);
            throw error; // Propage l'erreur pour la gérer en aval si nécessaire
        });
}

// Fonction pour charger les données JSON existantes
function chargerJSON_2() {
    return fetch('motsJOSY_A_VALIDER.json')
    .then(response => response.json())
        .then(data => {
            console.log('Données chargées depuis motsJOSY_A_VALIDER.json:', data);
            mots_2 = data;
            return mots_2; // Retourne les données pour les utiliser plus tard
        })
        .catch(error => {
            console.error('Erreur de chargement des données "A VALIDER":', error);
            throw error; // Propage l'erreur pour la gérer en aval si nécessaire
        });
}

function ajouterNouveauMot(nouveauMot) {
    chargerJSON_2().then(data => {
        // Ajouter le nouveau mot aux données
        data.push(nouveauMot);

        // Envoie les données mises à jour au serveur pour les sauvegarder
        return fetch('/update-json-2', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data) // Envoie les données JSON mises à jour
        })
        .then(response => response.json())
        .then(data => {
            console.log('Mot ajouté avec succès dans "à valider":', data.message);
        })
        .catch(error => {
            console.error('Erreur lors de l\'ajout du mot au fichier JSON:', error);
        });
    });
}

        // Fonction pour mettre à jour le fichier JSON
function mettreAJourJSON(updated_mot,updated_nb ) {
chargerJSON().then(data => {
        // Cherche la ligne où "mot" est "diot"
        const ligne = data.find(item => item.mot === updated_mot);
        if (ligne) {
            // Met à jour la colonne "nombre" à 2
            ligne.nombre = updated_nb;

            console.log("Le mot ", updated_mot, " est valide.");
            // Envoie les données mises à jour au serveur pour les sauvegarder
            return fetch('/update-json', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data) // Envoie les données JSON mises à jour
            })
            .then(response => response.json())
            .then(data => {
                console.log(data.message);
            })
            .catch(error => {
                console.error('Erreur lors de la mise à jour du fichier JSON:', error);
            });
        } else {
            console.log("Le mot ", updated_mot, " n'a pas été trouvé dans le fichier JSON.");
        }
    });
}



// Fonction pour sauvegarder les données mises à jour localement
function sauvegarderDonneesLocalement() {
    localStorage.setItem('motsJOSY', JSON.stringify(mots));
    console.log('Données mises à jour localement.');
}


function Button_open_game() {
    console.log("Click bouton open game ");
    
    window.location.href = "https://josy.fly.dev/Josy_Jeu";
};


window.addEventListener('popstate', function(event) {
  // Lorsque l'utilisateur appuie sur le bouton retour du navigateur
  document.querySelector("#page-container").innerHTML = "<!-- contenu initial ici -->";
});





</script>
            </div>
        </div>

<!-- FIN CODE HTML -->

    </main>
    <script src="script_Josy_8.js"></script>
</body>
</html>

